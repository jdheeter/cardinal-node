let lotion = require('lotion')
let coins = require('coins')

let app = lotion({
  initialState: {
    counter: 0,
    pubkey: {} // won't need this once we have initializers
  },
  devMode: true
})

let counter = {
  onInput (input, tx, state) {
    if (input.amount !== state.counter) throw Error()
    state.counter++
  }
}

app.use(coins({ counter }))

app.listen(8888)
